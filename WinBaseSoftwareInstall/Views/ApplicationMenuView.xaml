<UserControl
    x:Class="WinBaseSoftwareInstall.Views.ApplicationMenuView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:WinBaseSoftwareInstall.Models"
    xmlns:viewModel="clr-namespace:WinBaseSoftwareInstall.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewModel:ApplicationsMenuViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <Border
        Margin="10"
        Background="#a52e2e2e"
        BorderBrush="{DynamicResource BorderBrush}"
        BorderThickness="1"
        CornerRadius="7">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock
                Margin="0,5,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Style="{StaticResource TextBlockTitle}"
                Text="Applications Menu"
                TextTrimming="CharacterEllipsis" />
            <TreeView
                Grid.Row="1"
                Margin="10"
                hc:ScrollViewer.IsInertiaEnabled="True"
                Background="Transparent"
                BorderThickness="0"
                Cursor="Hand"
                ItemsSource="{Binding ApplicationsMenus}"
                ScrollViewer.CanContentScroll="False"
                ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                VirtualizingStackPanel.IsVirtualizing="True">
                <TreeView.Resources>
                    <HierarchicalDataTemplate DataType="{x:Type models:ApplicationsMenuModel}" ItemsSource="{Binding ApplicationsMenuChilds}">
                        <hc:UniformSpacingPanel HorizontalSpacing="10" Orientation="Horizontal">
                            <Path
                                Width="16"
                                Height="16"
                                Data="{Binding Icon}"
                                Fill="{DynamicResource AccentBrush}"
                                Stretch="Uniform" />
                            <TextBlock
                                VerticalAlignment="Center"
                                Text="{Binding Title}"
                                TextTrimming="CharacterEllipsis" />
                        </hc:UniformSpacingPanel>
                    </HierarchicalDataTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type models:ApplicationsMenuSubModel}">
                        <hc:UniformSpacingPanel HorizontalSpacing="10" Orientation="Horizontal">
                            <Path
                                Width="16"
                                Height="16"
                                Data="{Binding Icon}"
                                Fill="{DynamicResource AccentBrush}"
                                Stretch="Uniform" />
                            <TextBlock
                                VerticalAlignment="Center"
                                Text="{Binding Title}"
                                TextTrimming="CharacterEllipsis" />
                        </hc:UniformSpacingPanel>
                    </HierarchicalDataTemplate>
                </TreeView.Resources>
            </TreeView>
        </Grid>
    </Border>
</UserControl>